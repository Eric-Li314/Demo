这个demo是 用ajax轮询数据库获取信息，长连接形式，减少资源的消耗

要求聊天昵称不能相同

系统每隔10s更新一次用户状态，每次延长30s作为自己的离线时间，同时根据条件查询其他下线用户，并写入数据库中

当用户关闭网页时，offline时间停止更新，30s后系统更新用户状态时，由于offline已经小于了当前时间戳，将用户在线标识设置为0（离线）
同时，添加一条离线提示信息到数据库（每个在线用户会收到这条消息）

新消息读取方式：
用户填写完昵称后，ajax保存加入信息，返回该条数据的id作为lastid，写入到页面隐藏域中。轮询机制每次携带这个lastid去数据库查询大于这个id
的数据，如果有数据，则返回，同时最新一条数据的id也会通过ajax返回，更新隐藏域中的lastid，轮询机制继续以这个id作为条件去查下大于它的数据
没有数据，隐藏域的lastid不更新，有新数据时则更新。。。

这种方式确保不遗漏用户的消息，之前采用以时间查询的方式可能会遗漏信息

长连接：
ajax设置超时时间为30s，在30s内等待接收后端的json数据，如果超过30s仍然无数据则重新发起一个超时时间为30s的ajax请求，
如果30内，后端有数据返回，ajax请求成功后，又重新发起一个超时时间为30s的ajax请求，以此循环

php后端执行一个死循环查询，间隔为1s，如果数据库有新消息则返回json数据，同时跳出死循环
